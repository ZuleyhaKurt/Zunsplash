"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[6378],{9706:(t,e,n)=>{n.d(e,{L:()=>i});var o=n(57842);const i=n(74235).kr9(o.YP)},56378:(t,e,n)=>{n.d(e,{q:()=>Q,Z:()=>j});var o={};n.r(o),n.d(o,{load_more_button_label:()=>y});var i={};n.r(i),n.d(i,{load_more_button_label:()=>B});var l=n(3735),s=n(30845),r=n(86706),a=n(91384),d=n(66132),c=n(70549),h=n(18711),u=n(52999),p=n(4094),I=n(4047),f=n(15665),g=n(57842),S=n(87976),b=n(6464),m=n(93416),q=n(15964),O=n(9435),P=n(74235),R=n(17060),v=n(59147),E=n(55360),z=n(6671),N=n(9706);const _="gDCZZ",k="HxaG2",A="ATnvl",w="dycl5 hNER6 jJsTo qBwND",C="PwSsU O84oE",T="rx4AP";var Z=n(85173);const y=()=>"Load more photos",B=()=>"Carga mÃ¡s fotos",{getTranslations:U,useTranslations:D,withTranslations:F}=(0,Z.U)({EnUs:o,EsEs:i});function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Q=()=>P.azq(P.tJQ,{className:k},P.azq(P.tJQ,{className:A},p.w6H(0,17).map((t=>P.azq(P.tJQ,{key:t,className:w},P.azq(P.tJQ,{className:C})))))),x=(0,m.DO)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:I.HP((()=>P.azq(v.Z,{type:"photos"}))),getPlaceholderEl:I.HP((()=>P.azq(Q,null)))}),H=S.Ue();class L extends P.wA2{constructor(){super(...arguments),J(this,"getInfiniteScrollSetting",(t=>{let{shouldRequireInfiniteScrollOptIn:e}=t;return e?H.mk.OptInRequired({optedIn:!1}):H.mk.Enabled()})),J(this,"state",{infiniteScrollSetting:this.getInfiniteScrollSetting(this.props)}),J(this,"toggleInfiniteScrollOptIn",(()=>{const{infiniteScrollSetting:t}=this.state;H.match({OptInRequired:t=>{let{optedIn:e}=t;const n=H.mk.OptInRequired({optedIn:(0,b.U_)(e)});this.setState({infiniteScrollSetting:n})},[S._]:l.Q1})(t)})),J(this,"fetchDataAndBuildActions",(0,s.Z)((t=>(0,l.ls)(t,f.UI((0,l.ls)(u.Yq,c.N.traverseArray(c.dp),(t=>{let[e,n]=t;return[(0,d.VA)(n),d.aU.mk.HandleNextPhotoFeedPageResponse({feedId:this.props.feedId,photoIds:e.map((t=>t.id))})]}))))))),J(this,"createPhotoFeedIdContextValue",(0,s.Z)((t=>g.G(t))))}UNSAFE_componentWillReceiveProps(t){if(t.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){const e=this.getInfiniteScrollSetting(t);this.setState({infiniteScrollSetting:e})}}render(){const{photoFeedOption:t,photosOption:e,children:n,getNoContentEl:o,getPlaceholderEl:i,renderBeneathLoadMoreButton:l,feedId:s,fetchPhotos:r,notifier$:a,intersectionObserverRoot:d,intersectionObserverRootMarginBottom:c,t:h}=this.props,{infiniteScrollSetting:u}=this.state,p=!1===H.match({OptInRequired:t=>{let{optedIn:e}=t;return e},Enabled:()=>!0})(u);return P.azq(N.L.Provider,{value:this.createPhotoFeedIdContextValue(s)},P.azq(E.f,{key:s,renderItems:n,feedItemsOption:e,feedStateOption:t,getScrollFooterEl:()=>P.azq(P.tJQ,{className:T},H.match({OptInRequired:t=>{let{optedIn:e}=t;return e?P.azq(z.Z,null):P.azq(P.PRT,null,P.azq(P.tJQ,{className:_},P.azq(R.Z,{tag:"button",buttonType:O.L$.Outline,onClick:this.toggleInfiniteScrollOptIn,type:"button"},h.load_more_button_label())),null==l?void 0:l())},Enabled:()=>P.azq(z.Z,null)})(u)),getNoContentEl:o,getPlaceholderEl:i,shouldDisableInfiniteScroll:p,fetchDataAndBuildActions:this.fetchDataAndBuildActions(r),notifier$:a,intersectionObserverRoot:d,intersectionObserverRootMarginBottom:c}))}}const $=(0,h.O)()((()=>{const t=(0,q.XT)(),e=(0,q.u0)();return(n,o)=>({photoFeedOption:t(n,o.feedId),photosOption:e(n,o.feedId)})})),j=(0,l.zG)(L,(0,r.$j)($),F,(t=>(0,a.b9)(t,x)))}}]);
//# sourceMappingURL=6378.f2824234689498f0744f.js.map